import{T as r,l as i,p as o}from"./timeseries.c035184d.js";import{a as n,b as l}from"./jobWorkunits.ff0b6f2f.js";import{n as d}from"./index.4ca078ea.js";var m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:"",absolute:""}}),t.loaded?s("timeseries",{staticClass:"chart-wrapper",attrs:{"chart-data":t.chartdata,overrides:t.options}}):t._e()],1)},u=[];const c={components:{Timeseries:r},mixins:[n,l],props:{id:{type:Number,default:void 0},from:{type:String,default:void 0},to:{type:String,default:void 0}},data:()=>({loaded:!1,loading:!1,chartdata:null,options:{elements:{line:{fill:!0}},plugins:{legend:{display:!1}},scales:{x:{gridLines:{display:!1}},y:{ticks:{callback(t){return`${t} %`}},min:0,max:100}}}}),computed:{fromTime(){return!this.id&&!this.from?this.$moment.utc().subtract(24,"hours").format("YYYY-M-DTH:mm:ss"):this.$moment(this.from).utc().format("YYYY-M-DTH:mm:ss")},toTime(){return this.to?this.$moment(this.to).utc().format("YYYY-M-DTH:mm:ss"):void 0}},methods:{loadData(t=!1){t&&(this.loading=!0);let e=`${this.$serverAddr}/chart/jobProgress`;this.id&&(e+=`/${this.id}`),this.axios.get(e,{params:{from:this.fromTime,to:this.toTime}}).then(s=>{this.chartdata={datasets:i(o(s.data.datasets))},this.loading=!1,this.loaded=!0})}}},a={};var f=d(c,m,u,!1,h,"0bdc09b1",null,null);function h(t){for(let e in a)this[e]=a[e]}var g=function(){return f.exports}();export{g as j};
